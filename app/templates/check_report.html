<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Medusa</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/getmdl-select.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/material.components.ext.min.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.green-blue.min.css" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/list.min.js') }}"></script>
    <script defer type="text/javascript" src="{{ url_for('static', filename='js/material.components.ext.min.js') }}"></script>
    <script defer type="text/javascript" src="{{ url_for('static', filename='js/getmdl-select.min.js') }}"></script>
  </head>

  <body>
    <h2 style="text-align:center">Inspection and Test Check list - {{ITC.ITC.name}}</h2>
    <br>
    <h4>Project Name:</h4> {{project.name}}
    <br>
    <h4>Job Number:</h4> {{project.job_number}}
    <br>
    <h4>Location:</h4> {{deliverable.location.name}}
    <br>
    <h4>Deliverable Start Date:</h4>
    {% if deliverable.start_date != none %}
      {{deliverable.start_date.strftime('%d-%m-%Y')}}
    {% endif %}
    <br>
    <h4>Deliverable Completion Date:</h4>
    {% if deliverable.completion_date != none %}
      {{deliverable.completion_date.strftime('%d-%m-%Y')}}
    {% endif %}
    <br>
    <h4>Assigned to:</h4> {{deliverable.assigned_to}}
    <br>
    <p style="page-break-after: always"></p>
      <h3>{{deliverable.name}} - {{deliverable.type.name}}</h3>
      <table class="mdl-data-table mdl-js-data-table" style="font-size:80%; width:100%; table-layout:fixed; white-space:normal">
        <thead>
          <tr>
            <th class="mdl-data-table__cell--non-numeric">Check Description</th>
            <th class="mdl-data-table__cell--non-numeric">Status</th>
            <th class="mdl-data-table__cell--non-numeric">Completed</th>
            <th class="mdl-data-table__cell--non-numeric">Completed By</th>
            <th class="mdl-data-table__cell--non-numeric">Completion Date</th>
            <th class="mdl-data-table__cell--non-numeric">Comments</th>
          </tr>
        </thead>
        <tbody>
        {% for check in checks %}
          {% if ITC.deliverable.id == deliverable.id %}
            <tr>
              <td class="mdl-data-table__cell--non-numeric">{{check.ITC_check.check.check_description}}</td>
              <td class="mdl-data-table__cell--non-numeric">{{check.status}}</td>
              <td class="mdl-data-table__cell--non-numeric">{{check.is_done}}</td>
              {% if check.user != none %}
                <td class="mdl-data-table__cell--non-numeric">{{check.user.first_name}} {{check.user.last_name}}</td>
              {% endif %}
              {% if check.completion_datetime != none %}
                <td class="mdl-data-table__cell--non-numeric">{{check.completion_datetime.strftime('%d-%m-%Y')}}</td>
              {% endif %}
              <td class="mdl-data-table__cell--non-numeric">{{check.comments}}</td>
            </tr>
          {% endif %}
        {% endfor %}
        </tbody>
      </table>
  </body>
</html>
